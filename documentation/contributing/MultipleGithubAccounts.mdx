import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Contributing/Multiple Github Accounts" />

# Multiple Github Accounts

Let's say you work on a private repository and a public repository on the same machine.

Maybe the private one belongs to a GHE organization and the public one belongs to a public GitHub account.

You don't want to have to manually switch between the two accounts when you want to commit to one or the other.

This guide will help you do the setup once and be done with it.

## How to

The idea is pretty simple: we'll configure your base `.gitconfig` file to automatically use different credentials based on the directory where your repositories are located.

- `work` needs to be using my professional account (GHE, example: `john.doe@mycompany.com`).
- `personal` needs to be using my personal account (GitHub, example: `john.doe@gmail.com`).

Open your base .gitconfig file:

```bash
open ~/.gitconfig
```

Add the following content (adapt the paths to your own):

<div className="flex flex-row gap-lg justify-between flex-wrap">
  <div className="flex-1">
    **Option 1: Work account as default (recommended if you mainly work on GHE projects)**

    If you wish for projets to use your work account by default, you can use the following configuration:

    ```bash
    [user]
        name = John Doe
        email = john.doe@mycompany.com

    [includeIf "gitdir:~/projects/personal/"]
    [user]
        name = John Doe
        email = john.doe@gmail.com
    ```

    <p className="text-headline-1 bg-error-container text-on-error-container rounded-md p-lg">With this configuration, Spark (or any public repository) should be cloned into the `personal` folder.</p>
  </div>
  <div className="flex-1">
    **Option 2: Personal account as default (recommended if you mainly work on public repositories)**

    If you wish for projets to use your personal account by default, you can use the following configuration:

    ```bash
    [user]
        name = John Doe
        email = john.doe@gmail.com

    [includeIf "gitdir:~/projects/work/"]
    [user]
        name = John Doe
        email = john.doe@mycompany.com
    ```

    <p className="text-headline-1 bg-error-container text-on-error-container rounded-md p-lg">With this configuration, Spark (or any public repository) should be cloned OUTSIDE of the `work` folder.</p>
  </div>
</div>

Now, the work repositories only need to be inside the `~/projects/work/` directory and all commits will use the correct credentials, without any configurations by repository. The same goes for the personal folder repositories.



## Test 

You can check that a repository is using the correct credentials by running the following inside a repository folder:
```bash
git config user.email
```

For Spark and any public repository, it should show "john.doe@gmail.com" if you are using the personal account, otherwise it should show "john.doe@mycompany.com" if you are using the work account.


