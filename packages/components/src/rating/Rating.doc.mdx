import { Meta, Canvas, ArgTypes } from '@storybook/addon-docs/blocks'
import { A11yReport } from '@docs/helpers/A11yReport'
import { Kbd } from '@spark-ui/components/kbd'

import { Rating } from '.'

import * as stories from './Rating.stories'

<Meta of={stories} />

# Rating

Ratings lets users see and/or set a star rating for a product or other item, on a scale from 0 to 5.

<Canvas of={stories.Default} />

## Install

```sh
npm install @spark-ui/components
```

## Anatomy

```tsx
import { Rating } from '@spark-ui/components/rating'

export default () => <Rating />
```

## API Reference

### Rating

<ArgTypes of={Rating} />

## Examples

### Controlled

Use `value` with `onValueChange` to control the component from your state.

<Canvas of={stories.Controlled} />

### Disabled

Use `disabled` prop to indicate that rating control is disabled.

<Canvas of={stories.Disabled} />

### Readonly

Use `readOnly` prop to indicate that rating control is not interactive.

<Canvas of={stories.Readonly} />

## Form field

When using the `Rating` component you might want to use it in combination with `FormField` to add a proper label, error message, etc.

### Label

Use `FormField.Label` to add a label to the input.

<Canvas of={stories.FieldLabel} />

#### Hidden label

In certain cases, a visible label may not be necessary. To achieve this behavior, use the `VisuallyHidden` component.

<Canvas of={stories.FieldHiddenLabel} />

### Required

Use the `isRequired` prop of the `FormField` to indicate that the input is required.

<Canvas of={stories.FieldRequired} />

### Helper message

Use the `FormField.HelperMessage` component to provide a description to the input.

<Canvas of={stories.FieldHelperMessage} />

### Validation

Set the `state` prop of the `FormField` to `error` to indicate that the input is invalid. Optionally use the `FormField.ErrorMessage` to describe why the input is invalid.

<Canvas of={stories.FieldInvalid} />

## Accessibility

<A11yReport of="rating" />

This component should always have a label, directly declared through `aria-label` or inherited from the `FormField` wrapper.

Follows WCAG 2.0 standards for keyboard accessibility guidelines.

### Keyboard Interactions

- <Kbd>ArrowRight</Kbd>: Increments by 1, up to 5.
- <Kbd>ArrowUp</Kbd>: Increments by 1, up to 5.
- <Kbd>ArrowLeft</Kbd>: Decrements by 1, down to 0.
- <Kbd>ArrowDown</Kbd>: Decrements by 1, down to 0.
