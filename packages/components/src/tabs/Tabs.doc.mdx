import { Meta, Canvas, ArgTypes } from '@storybook/addon-docs/blocks'
import { A11yReport } from '@docs/helpers/A11yReport'
import { AriaRoles } from '@docs/helpers/AriaRoles'
import { Tabs } from '.'
import { Kbd } from '@spark-ui/components/kbd'

import * as stories from './Tabs.stories'

<Meta of={stories} />

# Tabs

A set of layered sections of content—known as tab panels—that are displayed one at a time.

<Canvas of={stories.Default} />

## Install

```
npm install @spark-ui/components
```

## Anatomy

```tsx
import { Tabs } from "@spark-ui/components/tabs"

export default () => (
  <Tabs>
    <Tabs.List> 
      <Tabs.Trigger />
    </Tabs.List>
    <Tabs.Content />
  </Tabs.Content>
);
```

## API Reference

### Tabs

Contains all the tabs component parts.

<ArgTypes of={Tabs} />


### _.List

Contains the triggers that are aligned along the edge of the active content.

<ArgTypes of={Tabs.List} />


### _.Trigger

The button that activates its associated content.

<ArgTypes of={Tabs.Trigger} />



### _.Content

Contains the content associated with each trigger.

<ArgTypes of={Tabs.Content} />


## Examples

### Disabled

Use `disabled` prop on item to set related state to it. Other states (`:hover|:focus|...`) are automatically managed.

<Canvas of={stories.Disabled} />

### Icons

You can use `Icons` inside your `Tabs.Trigger` elements.

If your `Tabs.Trigger` contains only an icon, you must think about the `aria-label` prop to describe the trigger.

<Canvas of={stories.Icons} />

### Intent

Use `intent` prop to set the color of active tab item.

<Canvas of={stories.Intent} />

### Orientation

Use `orientation` prop to set `horizontal|vertical` orientation.

<Canvas of={stories.Orientation} />

### Overflow

For `horizontal` orientation only, navigation arrows are automatically displayed to help user browse tabs on content overflow. Use then `loop` prop on list to allow navigation loop from last tab to first, and vice versa.

<Canvas of={stories.Overflow} />

### Size

Use `size` prop to set the size of items.

<Canvas of={stories.Size} />

### forceMount

Use `forceMount` on `Tabs` when you want the content of your inactive tabs to remain in the DOM, instead of being removed.

This can be useful if your tabs load heavy resources on mount, such as heavy images, videos, iframes, etc...

<Canvas of={stories.ForceMount} />

## Accessibility

<A11yReport of="tabs" />

Adheres to the [Tabs WAI-ARIA design pattern](https://www.w3.org/WAI/ARIA/apg/patterns/tabs).

### Tips

- If the whole tabs area has a title, link it to the `Tabs.List` element using `aria-labelledby` prop.
- It is advised to use `asChild` on each `Tabs.Trigger` and use the appropriate heading tag according to your page structure.

### Keyboard Interactions

- <Kbd>Tab</Kbd>: When focus moves onto the tabs, focuses the active trigger. When a trigger is
  focused, moves focus to the active content.
- <Kbd>ArrowDown</Kbd>: Moves focus to the next trigger depending on `orientation` and activates its
  associated content.
- <Kbd>ArrowRight</Kbd>: Moves focus to the next trigger depending on `orientation` and activates
  its associated content.
- <Kbd>ArrowUp</Kbd>: Moves focus to the previous trigger depending on `orientation` and activates
  its associated content.
- <Kbd>ArrowLeft</Kbd>: Moves focus to the previous trigger depending on `orientation` and activates
  its associated content.
- <Kbd>Home</Kbd>: Moves focus to the first trigger and activates its associated content.
- <Kbd>End</Kbd>: Moves focus to the last trigger and activates its associated content.

### Roles

<AriaRoles
  of={Tabs}
  role="none"
  subcomponents={{
    'Tabs.List': {
      of: Tabs.List,
      role: 'tablist',
    },
    'Tabs.Trigger': {
      of: Tabs.Trigger,
      role: 'tab',
    },
    'Tabs.Content': {
      of: Tabs.Content,
      role: 'tabpanel',
    },
  }}
/>
